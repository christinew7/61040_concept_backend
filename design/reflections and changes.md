
# Assignment 4a: Backend Concept Coding Reflections
## Changes
- Note: I didn't receive any major areas to fix for assignment 2, so the following are changes as I was creating the test cases for my concepts.
- I had to change the spec to my `FileTracker` to pass in the maxIndex (size of the File) in the `startTracking` action because this would keep the concepts modular. Otherwise, I would have to use the `File` concept to query the file and then calculate the size from there and pass it into my `FileTracker` concept.
- I updated the `PasswordAuthentication` concept so it would not take empty usernames because that wouldn't make sense in the real world.
- I changed the `Dictionary` concept to have the terms be case insensitive because the cases don't matter in this context.

- I realized I needed to change my Library concept to not take in composite objects when adding in a File (in Library). I used Gemini to help me brainstorm and add the initial changes to the spec and implementation in Library: [_.e46ab544](../context/design/reflections%20snapshots.md/steps/_.e46ab544.md)

## Interesting Moments
Â As you work on your implementation, some moments will be worth recording. For example, you might discover that your **concept specification was wrong in some way**; a test run might expose a **subtle bug** in a concept implementation; the LLM might generate some code that is unexpectedly good or bad in some way; you might discover a way to simplify your design; and so on. When any such moment arises, you should save a link to the relevant file and place it in your design document. Make sure to save a link to a snapshot in the context area, not a link to a file in the design or source code areas (since those are mutable). If this moment did not arise from running the LLM, you should save the relevant files by creating a little design document to record your observations, and then run the tool with the save option to snapshot the files first.

- I wanted to get context / Gemini to help me with copying and pasting over the concept specs into this repo and its given format (with bullet points, like the example in LikertSurvey), but I kept struggling to prompt Gemini correctly to get the right formatting. Ultimately, I mostly reformatted the concepts by hand, and it felt like using Gemini was a waste of my time. For [example](../context/design/concepts/FileTracker/FileTracker.md/steps/response.4e979f79.md), I struggled both with the format of the FileTracker concept and the LLM keeping my generic types, User and File.
- Regarding the change in the `PasswordAuthentication` concept, I got this idea to change with the LLM's [generated test cases](../context/design/reflections%20snapshots.md/steps/_.02602d99.md)! It didn't make sense to me to have an empty username so I decided to have stronger preconditions in the `register` action.
- Regarding the change in the Dictionary concept, I also got this fix from the [LLM's generated test cases](../context/design/reflections%20snapshots.md/20251016_192650.a649f3b7.md). The test cases provided were made to check that the translation is only valid if the cases match, but this shouldn't matter because "Hello" and "hello" ultimately have the same meaning if someone asked to translate it to a different language. 
- Originally, I had my AI feature in the FileTracker concept that took in a File's items (an array of strings), which is not allowed. I wasn't sure how to fix this, so I prompted the LLM to help me tweak the function so it doesn't have composite objects or dependencies on other concepts, but the LLM kept spitting out "[implicit dependencies](../context/design/reflections%20snapshots.md/steps/_.bac2b93f.md)," where it referenced the database state of the Library concept. This was a little frustrating because I kept prompting/providing the LLM context that the concepts cannot have composite objects (pass in array) and have implicit dependencies.  
	- Note: Ultimately, I decided to not implement this feature yet, and check in office hours on 10/17 to keep the concepts modular.  
- When I tried to add in my AI feature from assignment 3, I thought I could copy and paste my test cases from the previous assignment for my action using the LLM, but it turns out that Deno can't properly read my config.json file without "JSON.parse" and using Deno's own readFile method. I wasn't sure what exactly the error was, whether it was an error in finding the relevant files and API key or an error in actually processing the information/code, but Gemini knew what to do when I prompted it to fix the code! [snapshot](../context/design/reflections%20snapshots.md/steps/_.3a3c5945.md)
- 