---
timestamp: 'Thu Oct 16 2025 19:26:50 GMT-0400 (Eastern Daylight Time)'
parent: '[[../20251016_192650.a649f3b7.md]]'
content_id: a455722bc44386a48aadda3b41bb3275e431fb117268373dcaaa14ce00e942b5
---

# Dictionary Test Case

[Full Response](../context/design/concepts/Dictionary/testing.md/steps/response.28de59cf.md)

## Relevant Details

```
Deno.test("Action: Case sensitivity of terms for add, translate, and delete", async (t) => {
  const [db, client] = await testDb();
  const concept = new DictionaryConcept(db);

  try {
    await t.step("1. Add a term with mixed case", async () => {
      const result = await concept.addTerm({ language1: "Hello", language2: "Bonjour" });
      assertNotEquals("error" in result, true, "Adding 'Hello' -> 'Bonjour' should succeed.");
    });

    await t.step("2. Translate the term using its exact case (L1)", async () => {
      const translateResult = await concept.translateTermFromL1({ language1: "Hello" });
      assertEquals("error" in translateResult, false, "Translating 'Hello' (exact case) should succeed.");
      assertEquals((translateResult as { language2: string }).language2, "Bonjour");
    });

    await t.step("3. Attempt to translate the term using different case (L1) - should fail", async () => {
      const translateResult = await concept.translateTermFromL1({ language1: "hello" }); // lowercase
      assertEquals("error" in translateResult, true, "Translating 'hello' (different case) should fail due to case-sensitivity.");
      assertEquals((translateResult as { error: string }).error, `Translation for "hello" not found.`);
    });

    await t.step("4. Translate the term using its exact case (L2)", async () => {
      const translateResult = await concept.translateTermFromL2({ language2: "Bonjour" });
      assertEquals("error" in translateResult, false, "Translating 'Bonjour' (exact case) should succeed.");
      assertEquals((translateResult as { language1: string }).language1, "Hello");
    });

    await t.step("5. Attempt to translate the term using different case (L2) - should fail", async () => {
      const translateResult = await concept.translateTermFromL2({ language2: "bonjour" }); // lowercase
      assertEquals("error" in translateResult, true, "Translating 'bonjour' (different case) should fail due to case-sensitivity.");
      assertEquals((translateResult as { error: string }).error, `Translation for "bonjour" not found.`);
    });

    await t.step("6. Delete the term using its exact case", async () => {
      const deleteResult = await concept.deleteTerm({ language1: "Hello", language2: "Bonjour" });
      assertEquals("error" in deleteResult, false, "Deleting 'Hello' -> 'Bonjour' (exact case) should succeed.");
    });

    await t.step("7. Attempt to translate the deleted term (exact case) - should fail", async () => {
      const translateResult = await concept.translateTermFromL1({ language1: "Hello" });
      assertEquals("error" in translateResult, true, "Translating 'Hello' should now fail after deletion.");
    });
  } finally {
    await client.close();
  }
});
```
